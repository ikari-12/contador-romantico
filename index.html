<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contador de Tempo - Juntos a</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.rawgit.com/davidshimjs/qrcodejs/gh-pages/qrcode.min.js"></script> <!-- Biblioteca QR Code -->
</head>
<body>

    <div class="container">
        <h1>Contador de Tempo <span class="romantico">Juntos a</span></h1>

        <p class="introducao">Insira uma data e uma foto especial para ver há quanto tempo vocês estão juntos!</p>

        <label for="dataInput">Insira uma data e hora (YYYY-MM-DD HH:MM:SS):</label>
        <input type="text" id="dataInput" placeholder="Exemplo: 2020-01-01 00:00:00" />

        <label for="fotoInput">Escolha uma foto para exibir:</label>
        <input type="file" id="fotoInput" accept="image/*" />

        <button onclick="salvarDados()">Iniciar Contador</button>
    </div>

    <!-- Aqui você pode adicionar o div onde o QR code será gerado -->
    <div id="qrcode"></div>

    <script>
        function salvarDados() {
            const data = document.getElementById("dataInput").value;
            const foto = document.getElementById("fotoInput").files[0];

            if (!data) {
                alert("Por favor, insira uma data válida!");
                return;
            }

            localStorage.setItem("dataSelecionada", data);

            if (foto) {
                const reader = new FileReader();
                reader.onload = function (e) {
                    localStorage.setItem("fotoSelecionada", e.target.result);
                    window.location.href = "contador.html";
                };
                reader.readAsDataURL(foto);
            } else {
                window.location.href = "contador.html";
            }
        }

        // Gerar o QR Code para a página de resultado
        var qrcode = new QRCode(document.getElementById("qrcode"), {
            text: "https://seusite.com/contador.html",  // Aqui você coloca o link do seu site
            width: 128,  // Tamanho do QR Code
            height: 128,
            colorDark : "#000000",
            colorLight : "#ffffff",
            correctLevel : QRCode.CorrectLevel.H
        });
    </script>

</body>
</html>
